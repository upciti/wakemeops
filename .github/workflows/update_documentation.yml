name: ðŸ“– Update documentation

on:
  workflow_dispatch:
  schedule:
    - cron: "30 */3 * * *"

jobs:
  update_documentation:
    runs-on: ubuntu-latest
    container:
      image: upciti/wakemebot:latest
      options: --user 1001
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Bump documentation
        run: |
          wakemebot docs
          mkdocs build

      - name: Deploy to Github pages
        uses: JamesIves/github-pages-deploy-action@v4.2.2
        with:
          branch: gh-pages
          folder: site
          single-commit: true
          git-config-name: wakemebot
          git-config-email: wakemebot@protonmail.com
