- name: clog-cli
  version: 0.9.3
  homepage: https://github.com/clog-tool/clog-cli
  summary: generate beautiful changelogs from your Git commit history
  description: |-
    clog creates a changelog automatically from your local git metadata. The way
    this works, is every time you make a commit, you ensure your commit subject
    line follows the conventional format. Then when you wish to update your
    changelog, you simply run clog inside your local repository with any options
    you'd like to specify.
  depends:
    - git
  fetch:
    url: https://github.com/clog-tool/clog-cli/releases/download/v{{version}}/clog-v{{version}}-{{target|rust_target}}.tar.gz
    sha256:
      amd64: c878d73e0f22fea2f2fd8da53e3cf987a88e50f474649e026ad196b67d8a0401
      armhf: 12e4b84972b5dac3e7334d9938da806295ca0f5b0b008833a4ed728d35fb1d3c
      arm64: 1e90b8ab5906c17a2f8a59c1a815afd0dbdcb9fc9d0848dec350481ceb99d473
    targets:
      armhf: armv7-unknown-linux-gnueabihf
  install:
    - clog:/usr/bin/

- name: coursier
  version: 2.1.0-M5
  homepage: https://get-coursier.io/
  summary: Scala application and artifact manager
  description: |-
    Coursier can install Scala applications and setup your Scala development
    environment. It can also download and cache artifacts from the web. Once
    installed, the main usage of coursier is through its command-line tool cs. Its
    features include:

    - Install additional Scala applications.
    - Launch Scala applications.
    - Create standalone launchers for Scala applications.
  conflicts:
    - csound
  fetch:
    url: https://github.com/coursier/coursier/releases/download/v{{version}}/cs-x86_64-pc-linux.gz
    sha256: 3a9904baba49af5f8fea96eb9fd31aa6779637eb5b177b500ad6ad16706a0f1b
  install:
    - cs-x86_64-pc-linux:/usr/bin/cs

- name: datanymizer
  version: 0.5.1
  homepage: https://github.com/datanymizer/datanymizer
  revision: 2
  summary: powerful postgres database anonymizer with flexible rules
  description: |-
    Datanymizer generates database-native dump. You can import or process your dump
    with supported database without 3rd-party importers.
    Datanymizer is created & supported by Evrone.
  fetch:
    url: https://github.com/datanymizer/datanymizer/releases/download/v{{version}}/pg_datanymizer-linux-x86_64.tar.gz
    sha256: cc5fdb12f0bf2cb64e01c28f61aac24db7836cf03898b79d9cf3712874419c9a
  install:
    - pg_datanymizer:/usr/bin/

- name: github-cli
  version: 2.10.1
  homepage: https://github.com/cli/cli
  summary: GitHub on the command line
  description: |-
    Brings pull requests, issues, and other GitHub concepts to the terminal next to
    where you are already working with git and your code.
  fetch:
    url: https://github.com/cli/cli/releases/download/v{{version}}/gh_{{version}}_linux_{{target}}.tar.gz
    sha256:
      amd64: d6bc8e8d3879a1315158b8f20535e8da5e8de99135a820571771f58b9e41acca
      armhf: b3682151126cd3c0128e52f73d1fccf0a95092da4f2fdac0011f84cc55df494f
      arm64: 2c7dbe8bbeb22df626a5e3673f75f1ca650fe8b5f2f09e5ebd432dfe88eda8a1
    targets:
      armhf: armv6
  script:
    - mv gh_{{version}}_linux_*/bin/* {{src}}/usr/bin/
    - mv gh_{{version}}_linux_*/share/* {{src}}/usr/share/

- name: github-hub
  version: 2.14.2
  homepage: https://hub.github.com
  revision: 2
  summary: do everyday GitHub tasks without ever leaving the terminal
  description: |-
    hub is a command line tool that wraps git in order to extend it with extra
    features and commands that make working with GitHub easier.
  fetch:
    url: https://github.com/github/hub/releases/download/v{{version}}/hub-linux-{{goarch}}-{{version}}.tgz
    sha256:
      amd64: 74d95fdfb3c78c8af4e2025b04b916ad905ab99a361778500d58269847c7922d
      armhf: 234fa4cfcfdf1fc4051b27116fd1351a1741cfec556fa227506708ba4997bdeb
      arm64: 53670fe3ed3d590dc1194257497c7b27b35daf2bfb5b497b1a49e50b3f5a0e61
  install:
    - hub-linux-{{goarch}}-{{version}}/bin/hub:/usr/bin/

- name: glab
  version: 1.22.0
  homepage: https://glab.readthedocs.io/
  summary: Gitlab on the command line
  description: |-
    Bring GitLab to your terminal right next to where you're already working with
    git and your code without switching between browser windows or tabs. Work with
    issues, merge requests, look at running pipelines directly from your CLI, among
    other features.
  fetch:
    url: https://github.com/profclems/glab/releases/download/v{{version}}/glab_{{version}}_Linux_{{target}}.tar.gz
    sha256:
      amd64: 7d70af94648cd7720899315ddd9efdf981769f636b3cf6976508a939d5248a5f
      armhf: 4c37217e77156e964d72d46bc2550f232ef544905ad3d62b0641c77fb2b7dfc6
      arm64: 72b83d99c9fb99ed5ba04cc50f5acf90e1d4bedbc7c0d950eae7eb8375d0068b
    targets:
      amd64: x86_64
      armhf: armv6
  install:
    - bin/glab:/usr/bin/

- name: hugo
  version: 0.98.0
  homepage: https://gohugo.io/
  summary: fast and flexible Static Site Generator
  description: |-
    Hugo is a static site generator written in Go. It is optimized for speed, ease
    of use, and configurability. Hugo takes a directory with content and templates,
    and renders them into a full HTML website.

    Hugo relies on Markdown files with front matter for meta data. And you can run
    Hugo from any directory. This works well for shared hosts and other systems
    where you donâ€™t have a privileged account.

    Hugo renders a typical website of moderate size in a fraction of a second. A
    good rule of thumb is that each piece of content renders in around 1
    millisecond.

    Hugo is meant to work well for any kind of website including blogs, tumblelogs
    and docs.
  fetch:
    url: https://github.com/gohugoio/hugo/releases/download/v{{version}}/hugo_{{version}}_Linux-{{target|goarch}}.tar.gz
    sha256:
      amd64: 526807a00eb867a2c06e65f9bd0f34cf71b281040e2955ad18a8ccc83ac92c45
      armhf: abe9a29c675ddbb842b166c90cd6b4da23fa69eb95e6317cabb0ec25fc9766db
      arm64: a230ab63f37948d821a3b6ebd7abada8e142e840ccaa7d5c542544f436875ad5
    targets:
      amd64: 64bit
  install:
    - hugo:/usr/bin/

- name: mask
  version: 0.11.1
  homepage: https://github.com/jakedeichert/mask
  summary: command-line task runner defined by a simple markdown file
  description: |-
    mask is a CLI task runner which is defined by a simple markdown file. It
    searches for a maskfile.md in the current directory which it then parses for
    commands and arguments.
  fetch:
    url: https://github.com/jakedeichert/mask/releases/download/v{{version}}/mask-v{{version}}-x86_64-unknown-linux-gnu.zip
    sha256: 90f3a5a174c90440eb6cc80453e8b20b2920a5f709246c147c3dd908c40c5bf9
  install:
    - mask-v{{version}}-x86_64-unknown-linux-gnu/mask:/usr/bin/

- name: poetry
  version: 1.1.13
  homepage: https://python-poetry.org
  arch: all
  summary: tool for dependency management and packaging in Python
  description: |-
    Poetry helps you declare, manage and install dependencies of Python projects,
    ensuring you have the right stack everywhere.
  depends:
    - libc6
    - python3
    - python3-distutils
  fetch:
    url: https://github.com/python-poetry/poetry/releases/download/{{version}}/poetry-{{version}}-linux.tar.gz
    sha256: 24037d8e597203571b3d3361da729fb8c7faf1cc1c27bd236f66f5f94fc63477
  install:
    - path: /usr/bin/poetry
      content: |
        #!/usr/bin/env python3
        # -*- coding: utf-8 -*-
        import glob
        import sys
        import os
        lib = os.path.normpath(os.path.join(os.path.realpath(__file__), "../..", "lib"))
        vendors = os.path.join(lib, "poetry", "_vendor")
        current_vendors = os.path.join(
            vendors, "py{}".format(".".join(str(v) for v in sys.version_info[:2]))
        )
        sys.path.insert(0, lib)
        sys.path.insert(0, current_vendors)
        if __name__ == "__main__":
            from poetry.console import main
            main()
    - path: debian/postinst
      content: |
        #!/bin/sh
        set -e
        if which py3compile >/dev/null 2>&1; then
          py3compile -p poetry
        fi
    - path: debian/prerm
      content: |
        #!/bin/sh
        set -e
        if which py3clean >/dev/null 2>&1; then
          py3clean -p poetry
        fi
  script:
    - rm -r poetry/_vendor/py2.7 poetry/_vendor/py3.5 poetry/_vendor/py3.6 poetry/_vendor/.gitignore
    - mv poetry {{src}}/usr/lib/

- name: pyenv
  version: 2.3.0
  homepage: https://github.com/pyenv/pyenv
  arch: all
  summary: simple Python version management
  description: |-
    Tool that lets you easily switch between multiple versions of Python. It's
    simple, unobtrusive, and follows the UNIX tradition of single-purpose tools
    that do one thing well.
  depends:
    - make
    - build-essential
    - libssl-dev
    - zlib1g-dev
    - libbz2-dev
    - libreadline-dev
    - libsqlite3-dev
    - wget
    - curl
    - llvm
    - libncursesw5-dev
    - xz-utils
    - tk-dev
    - libxml2-dev
    - libxmlsec1-dev
    - libffi-dev
    - liblzma-dev
  fetch:
    url: https://github.com/pyenv/pyenv/archive/refs/tags/v{{version}}.zip
    sha256: b85b391213ada32334ad56cff44ad5bb58da18d021356ffbe81c5d55e1a19f99
  install:
    - path: /etc/profile.d/ops2deb-pyenv.sh
      content: if [[ -f /usr/bin/pyenv ]]; then eval "$(pyenv init --path)"; fi
  script:
    - mv pyenv-{{version}} {{src}}/usr/lib/pyenv
    - chmod +x {{src}}/usr/lib/pyenv/libexec/* {{src}}/usr/lib/pyenv/plugins/python-build/bin/*
    - ln -s /usr/lib/pyenv/libexec/pyenv {{src}}/usr/bin/pyenv

- name: pyoxidizer
  version: 0.18.0
  homepage: https://pyoxidizer.readthedocs.io/en/latest/index.html
  revision: 2
  summary: utility for producing binaries that embed Python
  description: |-
    The over-arching goal of PyOxidizer is to make complex packaging and
    distribution problems simple so application maintainers can focus on building
    applications instead of toiling with build systems and packaging tools.
  fetch:
    url: https://github.com/indygreg/PyOxidizer/releases/download/pyoxidizer%2F{{version}}/pyoxidizer-{{version}}-linux-x86_64.zip
    sha256: 77d4b1528981c25e6fb02ecd142990460a7e846789102462d9e42215de049914
  install:
    - pyoxidizer:/usr/bin/

- name: scala-cli
  version: 0.1.5
  homepage: https://scala-cli.virtuslab.org/
  summary: command-line tool to interact with the Scala language
  description: |-
    Scala CLI is an experimental tool to run/compile/test Scala that aims at being
    a better scala command. It shares some similarities with build tools, but
    doesn't aim at supporting multi-module projects, nor to be extended via a task
    system.
  fetch:
    url: https://github.com/VirtusLab/scala-cli/releases/download/v{{version}}/scala-cli-x86_64-pc-linux.deb
    sha256: 94bd1e403a52cff54398fae8ba24db91b49ca4f5d40b338c936c42909036094f
  install:
    - data/usr/share/scala/scala-cli:/usr/bin/scala-cli
